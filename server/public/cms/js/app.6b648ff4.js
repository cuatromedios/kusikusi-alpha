(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(e,t,n){e.exports=n("2f39")},"2f39":function(e,t,n){"use strict";n.r(t);var r=n("967e"),a=n.n(r),o=(n("a481"),n("96cf"),n("fa84")),s=n.n(o),i=(n("7d6e"),n("e54f"),n("573e"),n("985d"),n("31cd"),n("6ba9"),n("2b0e")),u=n("1f91"),l=n("42d2"),c=n("b05d"),p=n("18d6"),d=n("2a19");i["a"].use(c["a"],{config:{},lang:u["a"],iconSet:l["a"],plugins:{LocalStorage:p["a"],Notify:d["a"]}});var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[e.prepared?e._e():n("div",{staticClass:"q-ma-xl flex justify-center"},[n("q-spinner",{attrs:{size:"xl"}})],1),e.prepared?n("router-view"):e._e()],1)},m=[],g=(n("7f7f"),{name:"Kusikusi",data:function(){return{prepared:!1}},created:function(){var e=this;return s()(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$api.baseURL="/api",t.next=3,e.$api.get("/cms/config");case 3:return n=t.sent,n.success&&e.$store.commit("setConfig",n.data),t.next=7,e.$store.dispatch("getLocalSession");case 7:if(!e.$store.getters.hasAuthtoken){t.next=14;break}return t.next=10,e.$api.get("/user/me");case 10:r=t.sent,r.status>=400&&"login"!==e.$route.name?(e.prepared=!0,e.$router.push({name:"login"})):(e.$store.commit("setUser",r.data),e.prepared=!0),t.next=16;break;case 14:e.prepared=!0,"login"!==e.$route.name&&e.$router.push({name:"login"});case 16:case"end":return t.stop()}}),t)})))()}}),h=g,b=n("2877"),v=n("eebe"),w=n.n(v),y=n("0d59"),k=Object(b["a"])(h,f,m,!1,null,null,null),x=k.exports;w()(k,"components",{QSpinner:y["a"]});var _=n("4bde"),O=n("2f62"),P=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("28a5"),n("c47a")),C=n.n(P),j=(n("f559"),n("2ef0")),L=n.n(j);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={config:{},lang:"en",uiLang:null,currentTitle:"",loading:!1,toolbar:{editButton:!1,saveButton:!1},menuItems:{dashboard:{label:"dashboard.title",icon:"dashboard",name:"dashboard"},content:{label:"content.title",icon:"home",name:"content"},media:{label:"media.title",icon:"photo",name:"media"},users:{label:"users.title",icon:"supervised_user_circle",name:"users"},configuration:{label:"settings.title",icon:"settings_applications",name:"settings"},logout:{label:"login.logout",icon:"exit_to_app",name:"login"}}},U={langs:function(e){return L.a.get(e,"config.langs",[])},defaultLang:function(e){return e.config&&e.config.langs?e.config.langs[0]:""},menu:function(e,t,n){var r=L.a.clone(L.a.get(e,"config.menu.".concat(n.session.user.profile)));return r||(r=(n.session.user.profile,[e.menuItems.content])),r.push(e.menuItems.logout),r},iconOf:function(e){return function(t){return L.a.get(e,"config.models[".concat(t,"].icon"),"blur_on")}},nameOf:function(e){return function(t){return L.a.get(e,"config.models[".concat(t,"].name"),t)}}},T={getCmsConfig:function(e){return s()(a.a.mark((function t(){var n,r,o;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,i["a"].prototype.$api.get("/config/cms");case 3:r=t.sent,n("setCms",r.result),o=p["a"].getItem("uiLang"),o&&""!==o||(o=r.result.langs[0]||"en"),n("setUiLang",o);case 8:case"end":return t.stop()}}),t)})))()}},A={setConfig:function(e,t){for(var n in L.a.set(t,"langs",L.a.get(t,"langs",["en"])),e.lang=t.langs[0],L.a.get(t,"models",[]))for(var r in L.a.get(t,"models[".concat(n,"].form"),[])){var a=[];for(var o in L.a.get(t,"models[".concat(n,"].form[").concat(r,"].components"),[])){var s=L.a.get(t,"models[".concat(n,"].form[").concat(r,"].components[").concat(o,"]"));if(L.a.startsWith(s.value,"contents."))for(var i in t.langs){var u=L.a.cloneDeep(s);u.value+=".".concat(t.langs[i]),u.isMultiLang=!0,u.props=E({},u.props,{lang:t.langs[i],field:u.value.split(".")[1]}),a.push(u)}else s.isMultiLang=!1,a.push(s)}L.a.set(t,"models[".concat(n,"].form[").concat(r,"].components"),a)}e.config=t},setTitle:function(e,t){e.currentTitle=t},setLang:function(e,t){p["a"].set("lang",t),e.lang=t,i["a"].i18n.set(t)},setUiLang:function(e,t){p["a"].set("uiLang",t),e.uiLang=t},setEditButton:function(e,t){e.toolbar.editButton=t},setSaveButton:function(e,t){e.toolbar.saveButton=t}},D={namespaced:!1,state:$,getters:U,actions:T,mutations:A},B={user:{profile:""},authtoken:""},I={hasAuthtoken:function(e){return""!==e.authtoken},entitiesWithWritePermissions:function(e){for(var t=[],n=0;n<L.a.get(e,"user.permissions.length",0);n++)if("none"!==e.user.permissions[n].write&&"none"!==e.user.permissions[n].read){var r=e.user.permissions[n].entity;r.write=e.user.permissions[n].write,r.read=e.user.permissions[n].read,t.push(r)}return t},entitiesWithPermissions:function(e){for(var t=[],n=0;n<L.a.get(e,"user.permissions.length",0);n++)if("none"!==e.user.permissions[n].read){var r=e.user.permissions[n].entity;r.write=e.user.permissions[n].write,r.read=e.user.permissions[n].read,t.push(r)}return t}},R={getLocalSession:function(e){var t=e.dispatch,n=e.commit,r=p["a"].getItem("kusikusi_session");return r&&r!=={}?(n("setAuthtoken",r.authtoken),n("setUser",r.user)):t("resetUserData"),r},resetUserData:function(e){var t=e.commit;t("setAuthtoken",""),t("setUser",{})}},z={setAuthtoken:function(e,t){e.authtoken=t,i["a"].prototype.$api.setAuthorization(t);var n=p["a"].getItem("kusikusi_session")||{};n.authtoken=t,p["a"].set("kusikusi_session",n)},setUser:function(e,t){e.user=t}},V={namespaced:!1,state:B,getters:I,actions:R,mutations:z},M={blankEntity:{id:"",model:"",view:"",contents:[],entity_relations:[],parent_entity_id:"",is_active:!0,properties:{},published_at:null,unpublished_at:null,version:0,version_full:0,version_relations:0,version_tree:0,created_at:null,updated_at:null,updated_by:null}},q={namespaced:!1,state:M},F=Object(_["store"])((function({Vue:e}){e.use(O["a"]);const t=new O["a"].Store({modules:{ui:D,session:V,content:q},strict:!1});return t})),W=n("8c4f");const Q=[{path:"/",component:()=>n.e(7).then(n.bind(null,"fd28")),redirect:{name:"login"},children:[{path:"/login",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"013f")),name:"login"}]},{path:"/panel",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"8071")),children:[{path:"/content/:entity_id?/:model?/:conector?/:parent_entity_id?",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"cf8e")),name:"content"}]}];Q.push({path:"*",component:()=>n.e(6).then(n.bind(null,"e51e"))});var H=Q,J=Object(_["route"])((function({Vue:e}){e.use(W["a"]);const t=new W["a"]({scrollBehavior:()=>({x:0,y:0}),routes:H,mode:"history",base:"/cms/"});return t})),K=function(){return N.apply(this,arguments)};function N(){return N=s()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof F){e.next=6;break}return e.next=3,F({Vue:i["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=F;case 7:if(t=e.t0,"function"!==typeof J){e.next=14;break}return e.next=11,J({Vue:i["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=J;case 15:return n=e.t1,t.$router=n,r={el:"#q-app",router:n,store:t,render:function(e){return e(x)}},e.abrupt("return",{app:r,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var G={general:{title:"Kusikusi",subtitle:"By Cuatromedios",pullToRefresh:"Pull to refresh",releaseToRefresh:"release to refresh",refreshing:"Refreshing",serverError:"There was an error in the server",back:"Back",edit:"Edit",save:"Save",cancel:"Cancel",confirm:"Confirm",ok:"Ok",sure:"Are you sure?",delete:"Delete",add:"Add"},login:{title:"Login",logout:"Logout",email:"Email",password:"Password",button:"Login",loginInvalid:"Invalid credentials",loginError:"Can't connect to the server",invalidEmail:"Please enter a valid email",invalidPassword:"Please enter a password"},dashboard:{},contents:{icon:"ballot",view:"Vista",contents:"Contents",publication:"Publication",active:"Published",delete:"Do you really want to delete this entity?",title:"Title",summary:"Summary",url:"Friendly url",footer:"Footer",publishedAt:"Publish at",unpublishedAt:"Stop publishing at"},media:{title:"Media",singular:"medium",uploader:"Media uploader",upload:"Upload file",select:"Select or drop file...",replace:"Replace file",tags:"Tags",tag:"tag",details:"Details",filename:"Original file name",format:"Format",mimetype:"Mime Type",size:"Size",url:"External URL",lang:"Lenguaje del medio",status:{title:"Status",idle:"Idle",failed:"Failed",uploading:"Uploading",uploaded:"Uploaded"}},qr:{title:"QR Code",print:"Print"},users:{title:"Users"},settings:{title:"Settings"},security:{any:"any",own:"own",none:"none"}},X={general:{title:"",subtitle:"By Cuatromedios",pullToRefresh:"Desliza para recargar",releaseToRefresh:"Suelta para recargar",refreshing:"Recargando",serverError:"Hubo un error inesperado en el servidor",back:"Regresar"},login:{title:"Ingresar",welcome:"¡Bienvenido!",email:"Correo Electrónico",password:"Contraseña",button:"Ingresar",invalid:"El correo electrónico o la contraseña son incorrectas"},layout:{dashboard:"Tablero",content:"Contenido",media:"Medios",users:"Usuarios",configuration:"Configuración",logout:"Cerrar sesión"},formComponents:{name:"Nombre",title:"Título",description:"Descripción",subtitle:"Subtítiulo",uploadFiles:"Subir archivos"},content:{update:"Actualizar",saveChild:"Crear hijo",delete:"Eliminar",children:"Hijos",saveEntitySuccess:"actualizada exitosamenta",media:"Agregar"}},Y={"en-us":G,"es-mx":X},Z=n("a925");i["a"].use(Z["a"]);const ee=new Z["a"]({locale:"en-us",fallbackLocale:"en-us",messages:Y,silentTranslationWarn:!0});var te=Object(_["boot"])(({app:e})=>{e.i18n=ee}),ne=n("bc3a"),re=n.n(ne),ae=Object(_["boot"])(({Vue:e})=>{e.prototype.$axios=re.a}),oe=n("c583"),se=n("64c8"),ie=n("4cf5");function ue(){return le.apply(this,arguments)}function le(){return le=s()(a.a.mark((function e(){var t,n,r,o,s,u,l,c,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:t=e.sent,n=t.app,r=t.store,o=t.router,s=!0,u=function(e){s=!1,window.location.href=e},l=window.location.href.replace(window.location.origin,""),c=[te,ae,oe["default"],se["a"],ie["a"]],p=0;case 11:if(!(!0===s&&p<c.length)){e.next=29;break}if("function"===typeof c[p]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,c[p]({app:n,router:o,store:r,Vue:i["a"],ssrContext:null,redirect:u,urlPath:l});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:p++,e.next=11;break;case 29:if(!1!==s){e.next=31;break}return e.abrupt("return");case 31:new i["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),le.apply(this,arguments)}ue()},"31cd":function(e,t,n){}},[[0,2,0]]]);